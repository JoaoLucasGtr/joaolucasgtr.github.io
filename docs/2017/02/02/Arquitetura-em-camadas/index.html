<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="description" content="Este é o meu blog pessoal, onde você encontra os meus estudos escritos durante a minha jornada como desenvolvedor de software."><meta name="author" content="João Lucas Campos Gonçalves"><meta name="keywords" content="Web, Development, Javascript, Software"><title> Arquitetura em camadas | JoaoLucasGtr </title><link rel="stylesheet" href="/css/vs2015.css"><link rel="dns-prefetch" href="https://fonts.googleapis.com/"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css" type="text/css" media="all"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"> </script><meta name="generator" content="Hexo 4.2.1"></head><body class="bg-light-gray"><nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow"><div class="container"><a class="navbar-brand" href="/">@joaolucasgtr</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav ml-auto">     <a class="nav-item nav-link" href="/">Home</a><a class="nav-item nav-link" href="/archives">Archives</a><a class="nav-item nav-link" href="/about">About</a><button class="btn btn-outline-primary" data-toggle="modal" data-target="#search-modal"><i class="fa fa-search" id="search-enabled"></i></button></div></div></div></nav><div class="container mt-5"><div class="row"><div class="col-md-8 mb-4"><article><div class="card-body bg-white shadow-sm"><header><h2>Arquitetura em camadas</h2><div class="mb-3"><span class="text-muted">Feb 2, 2017 / 7 min. read</span><span class="text-muted float-right"><i>Updated at: 11/08/2020</i></span></div></header><div class="blog-post-body"><p>Construir um software utilizando a arquitetura em camadas significa desacoplar de forma lógica grupos de rotinas por responsabilidade. Cada camada então deverá possuir apenas uma responsabilidade e gerenciar suas dependências de forma interna. Uma camada superior pode usar os serviços de uma camada inferior, porém o oposto não pode ser aplicado.<br>É importante frisar que para a aplicação desta arquitetura ser bem sucedida, é necessário que o contexto exija a existência desse nível de desacoplamento, ou seja, aplicações de grande escala, onde desacoplamento, boa manutenibilidade e estruturas formais são um requisito básico.</p>
<h2 id="Sobre"><a href="#Sobre" class="headerlink" title="Sobre"></a>Sobre</h2><p>Uma arquitetura em camadas, geralmente mencionada como n-tier architecture, ou multicamadas, é a forma de estruturar aplicações de forma distribuída. O modelo mais comum de utilização é a arquitetura em três camadas, sendo:</p>
<ul>
<li>Camada de apresentação</li>
<li>Camada de negócio</li>
<li>Camada de dados</li>
</ul>
<p>cujo objetivo claro é obter uma estrutura mais flexível, onde cada camada pode ser facilmente substituída sem a necessidade de refatoração nas demais.</p>
<h2 id="Camada-de-apresentacao"><a href="#Camada-de-apresentacao" class="headerlink" title="Camada de apresentação"></a>Camada de apresentação</h2><p>É o nível mais alto da aplicação, onde é possível visualizar e interagir com os dados gerenciados pela aplicação. Geralmente é chamada através de uma GUI (Graphical User Interface, ou interface gráfica de usuário), porém, em diversas aplicações a linha de comando é a camada de apresentação.</p>
<p>É de extrema importância que a única responsabilidade desta camada seja somente exibir os dados obtidos diretamente da camada inferior, a camada de regras de negócio, visando não ferir a premissa de que qualquer camada possa ser facilmente substituída.</p>
<h3 id="Padroes-de-projeto"><a href="#Padroes-de-projeto" class="headerlink" title="Padrões de projeto"></a>Padrões de projeto</h3><p>A utilização de padrões de projeto apropriados para a camada de apresentação pode reduzir drasticamente o esforço de desenvolvimento do sistema. Além disso, adotar padrões amplamente conhecidos irá melhorar a manutenibilidade e entrada de novos colaboradores ao projeto.</p>
<p>Decisões mal tomadas nesta camada são, em particular, muito caras e custosas para se resolver, e você pode identificá-las quando:</p>
<ul>
<li>Aumentar a complexidade das interações do usuário, envolvendo relacionamentos não triviais entre entidades e páginas do sistema;</li>
<li>Regras de negócios mudam e você precisa apresentar dados novos ou modificar funcionalidades existentes para novos usuários;</li>
<li>Você precisar portar sua aplicação para outras plataformas.</li>
</ul>
<p>Os padrões mais frequentemente utilizados na camada de apresentação são:</p>
<ul>
<li><strong>Observer:</strong> fornecendo um mecanismo para que um objeto notifique outros de suas alterações, sem estabelecer fortes vínculos de dependências entre eles;</li>
<li><strong>Page Controller:</strong> utilizado por padrão no ASP.NET, onde cada página irá possuir sua classe controladora (Controller);</li>
<li><strong>Model-View-Controller (MVC):</strong> para casos de interfaces complexas, onde é necessário o reaproveitamento de dados em locais diferentes de visualização.</li>
</ul>
<h2 id="Camada-de-negocio"><a href="#Camada-de-negocio" class="headerlink" title="Camada de negócio"></a>Camada de negócio</h2><p>A camada de lógica de negócios, ou <em>Business Layer</em>, se refere a implementação de regras de negócio ou requisitos do sistema. Aqui é escrito o código do “mundo real”, que determina como devem ser manipulados os dados da aplicação, como serão aplicadas as regras de validação e serve como camada de ligação entre as camadas de apresentação e dados.<br>É a camada com a maior probabilidade de mudança. </p>
<h3 id="Padroes-de-projeto-1"><a href="#Padroes-de-projeto-1" class="headerlink" title="Padrões de projeto"></a>Padrões de projeto</h3><p>A camada de negócio é que a vai possibilitar o maior número de casos de aplicação de padrões de projeto, por ser a camada “central” da aplicação. Assim, praticamente todos os padrões comportamentais podem ser encaixados nesta camada, basta estudar se é compatível com suas regras de negócio e aplicar.</p>
<p>Os padrões mais frequentemente utilizados na camada de negócio são: </p>
<ul>
<li><strong>Facade:</strong> fornecendo uma fachada simplificada que encapsula implementações complexas;</li>
<li><strong>Chain of responsibility:</strong> organizando a comunicação entre objetos solicitantes e fornecedores sem estabelecer dependência entre eles;</li>
<li><strong>Strategy:</strong> aprimorando a separação de responsabilidades por meio de abstrações e implementações concretas que não afetam estruturas já prontas;</li>
<li><strong>Interpreter:</strong> resolvendo expressões através de uma representação hierárquica de objetos;</li>
<li><strong>Mediator:</strong> encapsulando a maneira como os objetos interagem entre si</li>
</ul>
<p>entre diversos outros…</p>
<h2 id="Camada-de-dados"><a href="#Camada-de-dados" class="headerlink" title="Camada de dados"></a>Camada de dados</h2><p>Aqui é escrito todo código responsável por lidar com a persistência dos dados da aplicação, como bancos de dados, sistema de arquivos, etc. É necessário que a camada de dados possua uma API de comunicação que expõe métodos de acesso aos dados e evite totalmente possuir dependência de outras camadas. Isto irá facilitará o processo de substituição da camada de dados quando houver a necessidade de mudança de estrutura para melhorar o desempenho do sistema, por exemplo.</p>
<h3 id="Padroes-de-projeto-2"><a href="#Padroes-de-projeto-2" class="headerlink" title="Padrões de projeto"></a>Padrões de projeto</h3><p>É necessário considerar algumas questões no design da camada de dados que podem afetar diversos aspectos do sistema, como segurança, desempenho e escalabilidade. Deve ser simples também o processo de manutenção e extensão assim que os requisitos começarem a mudar. </p>
<p>Pontos a serem considerados:</p>
<ul>
<li><strong>Escolha da tecnologia de persistência:</strong> existe realmente a necessidade de se usar um banco de dados? Se sim, esse banco deve ser relacional ou não? Se não, você pode gravar os dados em um arquivo XML ou JSON, ou no formato Chave-Valor?</li>
<li><strong>Utilize abstração para diminuir o acoplamento:</strong> isto pode ser alcançado utilizando Interfaces, com entradas a saídas bem definidas, ou classes abstratas para compartilhamento de lógicas genéricas;</li>
<li><strong>Mantenha toda a lógica da camada de dados na camada de dados!</strong> Esta camada deve esconder das outras as rotinas de conexão com banco de dados, criação e execução de queries e conhecimento da tecnologia de persistência;</li>
<li><strong>Manipular exceções:</strong> somente exceções relacionadas ao acesso a dados devem ser tratadas aqui e propagar para as camadas superiores as demais exceções para tratamento adequado.</li>
</ul>
<p>Padrões mais frequentemente utilizados:</p>
<ul>
<li><strong>Singleton:</strong> sendo a única fonte de se obter uma conexão ativa com o banco de dados em todo o sistema;</li>
<li><strong>Data-Access-Objects (DAO):</strong> fornecendo acesso à entidades persistidas de forma isolada segura;</li>
<li><strong>Active Record:</strong> onde cada entidade de dados é mapeada em uma classe com as operações de CRUD já embutidas;</li>
<li><strong>Repository:</strong> que fornece uma visão mais orientada a objetos do banco de dados</li>
<li><strong>Unit of work:</strong> mantendo uma lista de objetos afetados por uma transação para escrita coordenada das alterações.</li>
</ul>
<h2 id="Conclusao"><a href="#Conclusao" class="headerlink" title="Conclusão"></a>Conclusão</h2><p>Neste artigo, pudemos observar alguns cenários de aplicação da arquitetura em camadas, visando aprimorar a forma como estruturamos sistemas. É possível notar como dois conceitos de boas práticas de programação trabalham muito bem juntos: a arquitetura em camadas e os padrões de projeto. Porém, isto não deve ser considerado como verdade absoluta para todos os casos. A aplicação indevida pode acabar gerando o efeito contrário ao proposto, burocratizando demais o processo de desenvolvimento e manutenção.</p>
<blockquote>
<p>Aplique conceitos certos diante de contextos certos.</p>
</blockquote>
<h2 id="Referencias"><a href="#Referencias" class="headerlink" title="Referências:"></a>Referências:</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Multitier_architecture" target="_blank" rel="noopener">Multitier architecture on wikipedia</a></li>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/msp-n-p/ff647343(v=pandp.10)?redirectedfrom=MSDN" target="_blank" rel="noopener">Design and Implementation Guidelines for Web Clients</a></li>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/msp-n-p/ee658127(v=pandp.10)?redirectedfrom=MSDN" target="_blank" rel="noopener">Design Fundamentals, Chapter 8: Data Layer Guidelines</a></li>
</ul>
</div><hr><h4>Other posts<span class="mr-2">:</span></h4><div class="row mb-5"><div class="col-6"><p>Previous</p><a href="/2017/02/15/Refatoracao/"><i class="fa fa-chevron-left mr-2"></i><span>Refatoração</span></a></div><div class="col-6 text-right"><p>Next</p><a href="/2017/01/08/O-principio-KISS/"><span>O princípio KISS</span><i class="fa fa-chevron-right ml-2"></i></a></div></div><hr><h4>Leave a comment<span class="mr-2">:</span></h4><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = 'https://joaolucasgtr.github.io/2017/02/02/Arquitetura-em-camadas/';
  this.page.identifier = '2017/02/02/Arquitetura-em-camadas/';
  this.page.title = 'Arquitetura em camadas';
};

</script><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://joaolucasgtr.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript></div></article></div><div class="col-md-4"><aside><section class="text-center p-4 shadow mb-4 bg-white social-card"><a href="/about"><img class="social-avatar mt-5 mb-3 rounded-circle" src="https://www.gravatar.com/avatar/9acc26af4be808453f27f200036c6315?s=160"></a><h4>@joaolucasgtr</h4><p class="text-justify mt-3">Hi, my name is João Lucas and I'm a passionate fullstack developer.</p><hr><p>Find me:</p><div class="row"><div class="col-12"><a class="btn btn-light rounded-circle" href="mailto:joaolucasgtr@gmail.com" target="_blank" title="email"><i class="fa fa-lg fa-envelope text-primary"></i></a><a class="btn btn-light rounded-circle ml-2" href="https://github.com/joaolucasgtr" target="_blank" title="github"><i class="fa fa-lg fa-github text-primary"></i></a><a class="btn btn-light rounded-circle ml-2" href="https://gitlab.com/joaolucasgtr" target="_blank" title="gitlab"><i class="fa fa-lg fa-gitlab text-primary"></i></a><a class="btn btn-light rounded-circle ml-2" href="https://br.linkedin.com/in/joaolucasgtr" target="_blank" title="linkedin"><i class="fa fa-lg fa-linkedin text-primary"></i></a><a class="btn btn-light rounded-circle ml-2" href="https://www.youtube.com/channel/UCmLqk_keqMDtbwuMDPuDOzQ" target="_blank" title="youtube"><i class="fa fa-lg fa-youtube text-primary"></i></a></div></div></section><div class="bg-white shadow mb-4 p-4"><h4>Recent posts</h4><ul class="circle-list -list"><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2018/01/26/Checklist-Ambiente/">Checklist Ambiente</a></li><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2017/09/03/Por-que-utilizar-Linux-na-sua-empresa/">Por que utilizar Linux na sua empresa?</a></li><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2017/06/15/Introducao-ao-Git/">Introdução ao Git</a></li><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2017/03/20/Arquitetura-SOA/">SOA - Service Oriented Architecture</a></li><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2017/03/20/O-padrao-DAO/">O padrão DAO</a></li><li class="circle-list -list-item"><a class="circle-list -list-link" href="/2017/02/20/SOLID/">SOLID (com exemplos)</a></li></ul></div><div class="bg-white shadow mb-4 p-4 text-center"><h4>Categories</h4><a class="circle-list -link" href="/categories/architecture/">architecture</a></div><div class="bg-white shadow mb-4 p-4 text-center"><h4>Tags</h4><a class="circle-list -link" href="/tags/design-patterns/" rel="tag">design patterns</a>, <a class="circle-list -link" href="/tags/n-tier-architecture/" rel="tag">n-tier architecture</a></div></aside></div></div></div><br><footer class="mt-4 py-4 text-white bg-dark"><div class="container"><div class="col-12 text-center"><a href="https://hexo.io/" target="_blank" rel="noopener">Powered by Hexo</a><span class="ml-2">| Copyright ©<span class="ml-1">joaolucasgtr</span><span class="ml-1">2020</span></span></div></div></footer><div class="modal fade" id="search-modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Search</h5><button class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button></div><div class="modal-body"><div class="row"><div class="col-md-12"><input class="form-control" onkeyup="search(this)"></div></div><div class="row mt-3"><div class="col-md-12" id="search-results"></div></div></div></div></div></div><script id="dsq-count-scr" src="https://undefined.disqus.com/count.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script><script src="/javascripts/app.js"></script></body></html>